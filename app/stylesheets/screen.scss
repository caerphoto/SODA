@import "compass/reset";

$linkColor: #2A6;
$linkHoverColor: #4D8;
$borderColor: #CCC;
$paperBg: #F8F8F5;
$pageBg: #F0F0E8;
$buttonColor: #F1F4F1;
$buttonHoverColor: #F8FFF8;
$buttonDisabledColor: #FAFAFA;

$navbarHeight: 25px;
$toolbarHeight: 45px;
$statusbarHeight: 30px;

$h1shad: 2px 2px 3px rgba(0, 0, 0, 0.3);

$headingFont: "Cabin", "Lucida Grande", "Lucida Sans Unicode", "Helvetica Neue", "Arial", sans-serif;

$bodyFontFamily: "Quattrocento", "Palatino", "Palatino Linotype", "Book Antiqua", serif;
$bodyFontSize: 13pt;

body {
	background-color: $pageBg;
	color: #333;
	line-height: 1.5;
	font-family: sans-serif;
}

a {
	color: $linkColor;
	text-decoration: none;

	&:hover {
		color: $linkHoverColor;
	}

	img {
		vertical-align: middle;
	}
}

input[type='text'], input[type='password'], input[type='email'] {
	border: 1px solid $borderColor;
	font-size: 14px;
	padding: 0.5em;
}

form {
	input[type='text'], input[type='password'], input[type='email'] {
		width: 20em;
	}
}

button, input[type='button'], input[type='submit'] {
	border: 1px solid $borderColor;
	background-color: $buttonColor;
	border-radius: 3px;

	cursor: pointer;
	outline: none;
	font-size: 12px;

	padding: 0 1em;
	height: 26px;

	&:hover {
		background-color: $buttonHoverColor;
		color: $linkColor;
	}

	&[disabled] {
		color: $borderColor;
		background-color: $buttonDisabledColor;
		cursor: default;
		&:hover {
			color: $borderColor;
			background-color: $buttonDisabledColor;
		}
	}
}

hr {
	border: none;
	border-bottom: 1px solid $borderColor;
	margin: 1em 5em;
}

.dropshadow {
	-moz-box-shadow:4px 4px 7px rgba(0, 0, 0, 0.3);
	-webkit-box-shadow:4px 4px 7px rgba(0, 0, 0, 0.3);
	box-shadow:4px 4px 7px rgba(0, 0, 0, 0.3);
	//-moz-box-shadow:4px 4px 7px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.06) inset;
	//-webkit-box-shadow:4px 4px 7px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.06) inset;
	//box-shadow:4px 4px 7px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 0, 0, 0.06) inset;
}

#logo {
	width: 0;
	height: 63px;
	padding-left: 174px;
	padding-bottom: 0.5em;
	margin-bottom: 1em;
	background: inline-image("soda_logo.png") right top no-repeat;
	border-bottom: 2px solid $borderColor;
	overflow: hidden;
}

.github-link {
	display: inline-block;
	height: 22px;
	width: 0;
	padding-left: 49px;
	overflow: hidden;
	vertical-align: middle;

	background: inline-image("github_logo-small.png") right 0 no-repeat;

	&:hover {
		background-position: right -22px;
	}
}

#try-demo {
	text-align: center;
	a {
		font-size: 150%;
	}
}

#main, .paper, #editor {
	border: 1px solid $borderColor;
}

#main, .paper {
	background-color: $paperBg;
}

#main {
	padding: 2em;
	margin: 3em auto;
	max-width: 50em;

	h1, h2, h3 {
		font-weight: bold;
		margin-top: 1em;
	}

	h1 {
		font-size: 160%;
		text-shadow: $h1shad;
	}

	h2 {
		font-size: 130%;
	}

	h3 {
		font-size: 105%;
	}

	p {
		margin-bottom: 1em;

		&.first {
			font-weight: bold;
		}
	}

	em { font-style: italic; }
	strong { font-weight: bold; }

	ul.basic {
		list-style: none;
		padding-left: 1em;
		text-indent: -0.6em;

		li {
			&:before {
				display: inline-block;
				width: 0.6em;
				overflow: visible;
				content: "\25EA";
			}
		}
	}

}

#navbar {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	height: $navbarHeight - 1;

	border-bottom: 1px solid $borderColor;

	background-color: $paperBg;
	color: #333;

	font-size: 14px;

	z-index: 101;
	div {
		padding: 0.2em 0.5em;
	}
}

#logo-navbar {
	float: left;
	display: block;
	width: 0;
	padding-left: 50px;
	height: 17px;
	background: inline-image("soda_logo-navbar.png") right top no-repeat;
	overflow: hidden;
	margin-left: 1em;
	margin-top: 3px;

	&:hover {
		background-position: right -17px;
	}
}

#center-links {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	text-align: center;
	z-index: -1; // links are 'behind' other stuff on the bar
}

#user-panel {
	position: absolute;
	top: 0;
	right: 0;
}

.doc-list {
	margin: 1em 0;
	border-collapse: collapse;
	width: auto;
	table-layout: fixed;
	width: 100%;

	thead {
		border-bottom: 2px solid $borderColor;
	}

	tr {
		border-bottom: 1px solid $borderColor;

		&:last-child {
			border: none;
		}
	}

	th {
		font-weight: bold;
	}

	th, td {
		padding: 0.5em 0;
	}

	.doc-name {
		//width: 20em;
	}

	.doc-controls {
		width: 10em;
	}

	.delete-link {
		font-size: 60%;
	}

	.doc-date {
		width: 12em;
	}
}

.loading-message {
	background: $linkColor inline-image("loading-w-g.gif") no-repeat 10px center;
	background-color: #FFF;
	border: 4px solid $linkColor;
	color: $linkColor;
	z-index: 99;

	position: absolute;
	top: $toolbarHeight + $navbarHeight + 20;
	left: 50%;
	padding: 10px 10px 10px 32px;

	&.view-only {
		top: 25%;
		left: 50%;
		width: 12em;
		margin-left: -6em;
	}
}

#doc-saving-message {
	display: none;
	border: 1px solid $borderColor;
	background: #FFF;
	padding: 5px;
	font-size: 12px;
	color: $borderColor;
	top: $toolbarHeight + $navbarHeight + 40;
}

#toolbar {
	position: absolute;
	top: $navbarHeight;
	right: 0;
	left: 0;
	height: $toolbarHeight - 7;
	padding-top: 10px;

	background: #FFF;
	border-bottom: 2px solid $linkColor;

	font-size: 14px;

	z-index: 2;

	label {
		display: inline-block;
		vertical-align: middle;
		margin-left: 1em;
	}

	input {
		font-size: 100%;
		outline: none;
		border: 1px solid $borderColor;

		&.number {
			width: 4em;
		}
	}

	button {
		margin-left: 1em;
		vertical-align: middle;
	}

	.dropdown-menu-container {
		margin-left: 1em;
		position: relative;
		display: inline-block;
		button {
			margin: 0;
		}
	}

	.dropdown-list-button {
		&:after {
			padding-left: 0.7em;
			content: "\25AA";
		}
	}

	.dropdown-list {
		position: absolute;
		left: 0;
		top: 25px;
		width: 13em;
		display: none;
		border: 1px solid $borderColor;
		background-color: $buttonColor;

		.menu-separator {
			border-bottom: 1px solid $borderColor;
			margin: 0.5em 0;
		}

		label {
			display: block;
			margin: 0;
			padding: 0.6em 1em 0.5em 0.5em;
			cursor: pointer;

			font-size: 12px;

			&:hover {
				color: $linkColor;
				background-color: $buttonHoverColor;
			}
		}
	}

	.info {
		font-style: italic;
		color: #AAA;
	}

	.links {
		position: absolute;
		right: 1em;
		top: 10px;
		display: inline-block;
		text-align: right;
	}

	-moz-box-shadow: -2px 2px 3px rgba(0, 0, 0, 0.1);
	-webkit-box-shadow: -2px 2px 3px rgba(0, 0, 0, 0.1);
	box-shadow: -2px 2px 3px rgba(0, 0, 0, 0.1);
}

h1#doc-title {
	position: absolute;
	top: 0.15em;
	left: 0;
	right: 0;
	font-size: 200%;
	text-align: center;
	font-weight: bold;
	text-shadow: $h1shad; 
	z-index: -1;
}


#statusbar {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;

	height: $statusbarHeight - 1;

	background: #FFF;
	border-top: 1px solid $borderColor;
	font-size: 75%;
	color: #333;

	div {
		position: absolute;
		top: 0.3em;
	}
}

#general-info {
	left: 1em;
}

#timing-info {
	right: 1em;
	color: #AAA;
}

#doc-source {
	// Source text for read-only document ('show' action view).
	display: none;
}

#editor, #preview-scroller {
	//display: block;
	position: absolute;
	bottom: $statusbarHeight;
}

#editor {
	top: $toolbarHeight + $navbarHeight;
	right: 55%;
	left: 20px;

	margin: 20px auto;
	padding: 2.2em 14px 10px 10px;
	background-color: #FFF;

	label {
		display: block;
		position: absolute;
		left: 0;
		top: 0.3em;
		right: 0;
		height: 1.9em;
		padding-left: 0.5em;
		border-bottom: 1px solid $borderColor;
	}

	#editor-title-box {
		position: absolute;
		top: 0.3em;
		left: 9em;
		right: 16px;

		input {
			display: block;
			width: 100%;
			font-size: 100%;
			padding: 0;
			outline: none;
			border: 1px solid $borderColor;
		}
	}

	#editor-input-box {
		position: absolute;
		top: 2.5em;
		right: 7px;
		bottom: 14px;
		left: 0.4em;
		border: 1px solid #FFF;
	}

	textarea {
		display: block;
		outline: none;
		resize: none; // hide resize handle in Webkit browsers
		border: none;
		padding: 0;

		width: 100%;
		height: 100%;

		font-family: "Lucida Grande", "Lucida Sans Unicode", "Helvetica Neue", "Arial", sans-serif;
		font-size: 14px;

		overflow-x: hidden;
		overflow-y: scroll;

		&.monospace {
			font-family: monospace;
		}
	}
}

#syntax-guide {
	position: absolute;
	left: 0;
	right: 8px;
	bottom: 0;
	height: 14px;
	overflow-y: hidden;

	border-top: 1px solid $borderColor;
	background-color: $paperBg;
	color: #888;
	cursor: n-resize;

	font-size: 14px;

	&:hover {
		background-color: $linkColor;
		border-color: $linkColor;
		#syntax-hint {
			color: #FFF;
		}
	}

	h2 {
		font-weight: bold;
		text-align: center;
	}

	h3 {
		font-weight: bold;
		margin-top: 0.5em;
	}

	em { font-style: italic; }
	strong { font-weight: bold; }

	p {
		margin-left: 0.5em;
		kbd, &.syntax-literal {
			font-family: monospace;
			white-space: pre;
		}

		&.syntax-literal {
			margin: 0.5em 0 0.5em 1.5em;
			overflow-x: hidden;
			em {
				font-style: normal;
				color: #D33;
			}
			.spaces {
				color: #CCC;
			}
		}
	}

	ul { margin-left: 1.5em; }
}

#syntax-hint {
	font-size: 10px;
	text-align: center;
}

#editor.show-syntax {
	#editor-input-box {
		bottom: 200px;
	}

	#syntax-guide {
		cursor: s-resize;
		height: 196px;
		color: #333;
		padding: 0.2em 0.4em;
		overflow-y: scroll;
		&:hover {
			background-color: $paperBg;
		}
	}

	#syntax-hint {
		display: none;
	}
}

#editor-sizer {
	position: absolute;
	right: 0;
	top: 0;
	bottom: 0;
	width: 8px;
	background-color: $borderColor;

	&:hover, &.sizing {
		background-color: $linkColor;
		cursor: ew-resize;
	}
}

#preview-scroller {
	overflow-y: scroll;
	overflow-x: auto;
	top: $toolbarHeight + $navbarHeight;
	left: 45%;
	right: 0;
	margin-left: 20px;

	&.view-only {
		position: static;
		margin: $toolbarHeight + $navbarHeight auto $statusbarHeight auto;
		padding-top: 1em;
		width: 210mm;
		overflow: visible; // allow shadow to show outside box
	}
}

#preview {
	width: 215mm;

	-webkit-transform-origin: left top;
	-moz-transform-origin: left top;
	-o-transform-origin: left top;
	-ms-transform-origin: left top;
	transform-origin: left top;
}

.paper {
	width: 210mm;
	margin: 5mm 5mm 10mm 0;

	.page {
		margin: 20mm;
		border: 1px dotted #DDD;

		font-family: $bodyFontFamily;
		font-size: $bodyFontSize;
		line-height: 1.4;

		text-rendering: geometricPrecision;

		p, ul, ol, pre { margin-bottom: 1em; }

		p { clear: both; }

		em {
			font-style: italic;
			font-family: "Palatino", "Palatino Linotype", "Book Antiqua";
		}

		strong {
			font-weight: bold;
			letter-spacing: -1pt;
		}

		h1, h2, h3, h4, h5, h6 {
			// iPad doesn't have Lucida, wtf
			font-family: $headingFont;
			font-weight: bold;
			margin-top: 1em;
			margin-bottom: 0.5em;
		}

		h1 {
			text-align: center;
			font-size: 150%;
		}

		h2 { font-size: 120%; }

		h3 { font-style: italic; }

		h4 {
			font-style: italic;
			font-size: 100%;
		}

		ul, ol {
			list-style-position: outside;
			margin-left: 2em;
		}

		ul { list-style-type: disc; }

		ol { list-style-type: decimal; }

		blockquote {
			margin: 1em 3em 1em 1em;
			border-left: 1px solid $borderColor;
			padding-left: 1em;
			color: #555;
		}

		pre, code {
			background-color: #EEE;
			border: 1px solid $borderColor;
			padding: 3px;
			font-family: "Consolas", "Inconsolata", "Menlo", monospace;
			font-size: 85%;
		}

		pre {
			padding: 4px 8px 0 8px;
			margin: 1em 0;
			code {
				padding: 0;
				border: none;
				font-size: 100%;
			}
		}

		hr {
			margin: 1em 5em;
		}

		img {
			vertical-align: middle;
		}

		.img {
			display: inline-block;
			width: 100%;
			text-align: center;
		}

	} // .page
} // .paper

#preview-scroller.raw {
	overflow: hidden;
}

#preview-scroller.raw #preview {
	display: none;
}

#html-view {
	display: none;

	position: absolute;
	top: 1em;
	left: 0;
	right: 1em;
	bottom: 1em;

	padding: 1em;

	overflow: hidden;
	background-color: #FFF;
	border: 1px solid $borderColor;

	textarea {
		outline: none;
		resize: none;
		font-family: monospace;
		font-size: 14px;
		width: 100%;
		height: 100%;
		background: none;
		border: none;
		color: #333;
		overflow-y: scroll;
		overflow-x: hidden;
	}

}

#preview-scroller.view-only #html-view {
	top: $toolbarHeight + $navbarHeight;
	margin: 1em auto 1em auto;
	width: 210mm;
}

#preview-scroller.raw #html-view {
	display: block;
}

#preview.no-margins .page {
	border: 1px solid $paperBg;
}

#preview.show-nonprinting {
	p:after, h1:after, h2:after, h3:after, h4:after, h5:after {
		content: "\00B6";
		color: #AAA;
		width: 0;
		overflow: visible;
		display: inline-block;
	}

	.empty:after {
		content: "";
	}

	.nonprinting-br:after {
		content: "\21A9";
		display: inline-block;
		width: 0;
		color: #BBB;
		overflow: visible;
	}
} // &.show-nonprinting

.focus, input:focus, button:focus {
	border-color: $linkColor !important;
	-moz-box-shadow: 0px 0 4px 1px $linkColor;
	-webkit-box-shadow: 0px 0 4px 1px $linkColor;
	box-shadow: 0px 0 4px 1px $linkColor;
}

.hidden {
	display: none;
}
